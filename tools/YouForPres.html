<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>YOU for President - Campaign Poster Builder</title>

<style>
  :root {
    --c1:#0a0a0a;
    --c2:#ffffff;
    --c3:#1a1a1a;
    --blue:#1e3a8a;
    --red:#b91c1c;
    --green:#14532d;
    --border:#4b5563;
    --panel:#111827;
    --panelEdge:#1f2937;
    --bg:#0f172a;
    --text-main:#f8fafc;
    --text-dim:#94a3b8;
    --card:#1e293b;
    --accent:#38bdf8;
    --radius-xl:1rem;
    --radius-lg:.75rem;
    --radius-md:.5rem;
  }

  * {
    box-sizing:border-box;
  }

  body {
    margin:0;
    background:var(--bg);
    color:var(--text-main);
    font-family:system-ui,-apple-system,BlinkMacSystemFont,"Inter","Segoe UI",Roboto,"Helvetica Neue",sans-serif;
    min-height:100vh;
    display:flex;
    flex-direction:column;
  }

  header {
    background:radial-gradient(circle at 20% 20%,rgba(56,189,248,.25) 0%,rgba(15,23,42,0) 70%);
    border-bottom:1px solid var(--panelEdge);
    padding:1rem 1.5rem;
    display:flex;
    flex-wrap:wrap;
    align-items:flex-start;
    gap:1rem;
  }

  header .title-group {
    flex:1;
    min-width:200px;
  }

  header h1 {
    margin:0;
    font-size:1.125rem;
    line-height:1.25rem;
    font-weight:600;
    color:var(--text-main);
    display:flex;
    align-items:center;
    gap:.5rem;
  }

  header h1 svg {
    width:1.25rem;
    height:1.25rem;
    flex-shrink:0;
  }

  header p {
    margin:.25rem 0 0;
    color:var(--text-dim);
    font-size:.8rem;
    line-height:1rem;
    max-width:600px;
  }

  header .actions {
    display:flex;
    flex-wrap:wrap;
    gap:.5rem;
  }

  button {
    cursor:pointer;
    border:0;
    font-size:.8rem;
    font-weight:600;
    line-height:1rem;
    color:var(--text-main);
    background:var(--panelEdge);
    padding:.6rem .8rem;
    border-radius:var(--radius-md);
    min-width:90px;
    box-shadow:0 8px 24px rgba(0,0,0,.6);
  }
  button.primary {
    background:var(--accent);
    color:#0a0a0a;
    font-weight:700;
  }
  button.danger {
    background:var(--red);
    color:#fff;
  }

  button.small {
    font-size:.7rem;
    padding:.5rem .6rem;
    min-width:auto;
  }

  main.app-shell {
    flex:1;
    min-height:0;
    display:flex;
    gap:1rem;
    padding:1rem;
  }

  /* LEFT CONFIG PANEL */
  .config-panel {
    width:320px;
    max-width:320px;
    flex-shrink:0;
    background:var(--panel);
    border:1px solid var(--panelEdge);
    border-radius:var(--radius-xl);
    padding:1rem 1rem 5rem;
    box-shadow:0 24px 64px rgba(0,0,0,.9);
    display:flex;
    flex-direction:column;
    min-height:0;
    overflow:auto;
  }

  .config-section {
    background:var(--card);
    border:1px solid var(--panelEdge);
    border-radius:var(--radius-lg);
    padding:1rem;
    margin-bottom:1rem;
  }

  .config-section h2 {
    margin:0 0 .5rem;
    font-size:.8rem;
    line-height:1rem;
    font-weight:600;
    color:var(--text-main);
    display:flex;
    align-items:center;
    justify-content:space-between;
  }

  .config-section h2 span.label {
    display:flex;
    align-items:center;
    gap:.4rem;
  }
  .config-section h2 span.sub {
    font-size:.7rem;
    font-weight:400;
    color:var(--text-dim);
  }

  .field {
    display:flex;
    flex-direction:column;
    margin-bottom:.75rem;
  }

  .field-row {
    display:flex;
    flex-wrap:wrap;
    gap:.5rem;
  }

  label {
    font-size:.7rem;
    font-weight:500;
    color:var(--text-dim);
    margin-bottom:.35rem;
    display:flex;
    align-items:center;
    justify-content:space-between;
  }

  input[type="text"],
  select,
  textarea,
  input[type="color"] {
    width:100%;
    background:var(--panelEdge);
    color:var(--text-main);
    border:1px solid var(--border);
    border-radius:var(--radius-md);
    padding:.55rem .6rem;
    font-size:.8rem;
    line-height:1rem;
    font-family:inherit;
  }

  input[type="color"] {
    padding:.2rem;
    height:2rem;
    cursor:pointer;
  }

  textarea {
    resize:vertical;
    min-height:3rem;
    max-height:6rem;
  }

  .mini-note {
    font-size:.65rem;
    line-height:.8rem;
    color:var(--text-dim);
  }

  .two-cols {
    display:flex;
    flex-wrap:wrap;
    gap:.5rem;
  }

  .two-cols .col {
    flex:1;
    min-width:0;
  }

  .upload-row {
    background:var(--panelEdge);
    border:1px dashed var(--border);
    border-radius:var(--radius-md);
    padding:.6rem .6rem .75rem;
    font-size:.7rem;
    line-height:1rem;
    color:var(--text-dim);
    display:flex;
    flex-direction:column;
    gap:.5rem;
  }

  .upload-row input[type="file"] {
    width:100%;
    font-size:.7rem;
    line-height:1rem;
    border:0;
    color:var(--text-main);
    background:none;
    padding:0;
  }

  .stance-row {
    display:flex;
    flex-direction:column;
    background:var(--panelEdge);
    border:1px solid var(--panelEdge);
    border-radius:var(--radius-md);
    padding:.6rem .6rem .75rem;
    margin-bottom:.5rem;
  }

  .stance-row .top {
    display:flex;
    gap:.5rem;
    flex-wrap:wrap;
    align-items:flex-start;
  }

  .stance-row select {
    flex:1;
    min-width:0;
  }

  .stance-row textarea {
    flex:1;
    min-width:0;
  }

  /* RIGHT PREVIEW PANEL (EDIT MODE) */
  .preview-wrapper {
    flex:1;
    min-width:0;
    min-height:0;
    background:var(--panel);
    border:1px solid var(--panelEdge);
    border-radius:var(--radius-xl);
    padding:1rem;
    box-shadow:0 24px 64px rgba(0,0,0,.9);
    display:flex;
    flex-direction:column;
    position:relative;
  }

  .preview-title-bar {
    display:flex;
    flex-wrap:wrap;
    align-items:flex-start;
    justify-content:space-between;
    margin-bottom:.75rem;
    gap:.75rem;
  }

  .preview-title-left {
    display:flex;
    flex-direction:column;
  }

  .preview-title-left h2 {
    margin:0;
    font-size:.8rem;
    line-height:1rem;
    font-weight:600;
    color:var(--text-main);
    display:flex;
    align-items:center;
    gap:.4rem;
  }

  .preview-title-left p {
    margin:.25rem 0 0;
    font-size:.7rem;
    line-height:.9rem;
    color:var(--text-dim);
  }

  .preview-title-right {
    display:flex;
    flex-wrap:wrap;
    gap:.5rem;
  }

  .live-hint {
    font-size:.7rem;
    line-height:.9rem;
    color:var(--text-dim);
    text-align:right;
  }

  /* THE POSTER ITSELF - used in both edit and live mode */
  .poster-area-outer {
    flex:1;
    min-height:0;
    overflow:auto;
    display:flex;
    justify-content:center;
    align-items:flex-start;
    padding:1rem;
    background:repeating-linear-gradient(
      -45deg,
      rgba(56,189,248,.07) 0px,
      rgba(56,189,248,0) 4px,
      rgba(56,189,248,0) 8px,
      rgba(56,189,248,.07) 12px
    );
    border:1px solid var(--panelEdge);
    border-radius:var(--radius-lg);
  }

  /* Poster printable layout (Letter-ish ratio ~1.294) */
  .poster {
    width:800px;
    max-width:100%;
    background:var(--c2);
    color:#000;
    border-radius:var(--radius-md);
    border:4px solid #000;
    box-shadow:0 40px 80px rgba(0,0,0,.8);
    font-family:"Impact","Anton","Arial Black","Inter",system-ui,sans-serif;
    position:relative;
    overflow:hidden;
  }

  /* Top stripes header */
  .poster-topband {
    position:relative;
    padding:1rem .75rem .75rem;
    text-align:center;
    font-weight:800;
    color:#fff;
    letter-spacing:.05em;
  }

  .poster-topband .line1 {
    font-size:1.2rem;
    line-height:1.2rem;
  }
  .poster-topband .line2 {
    margin-top:.4rem;
    font-size:2.2rem;
    line-height:2.2rem;
    text-transform:uppercase;
  }

  .poster-stripes {
    position:absolute;
    inset:0;
    display:flex;
    flex-direction:column;
    z-index:0;
  }
  .poster-stripes .stripe {
    flex:1;
  }

  /* middle content row: headshot, message, vp */
  .poster-mid {
    display:flex;
    flex-wrap:wrap;
    padding:1rem .75rem;
    gap:1rem;
    justify-content:space-between;
    align-items:flex-start;
  }

  .candidate-block,
  .vp-block {
    width:180px;
    max-width:calc(50% - .5rem);
    flex-shrink:0;
    text-align:center;
  }

  .candidate-pic,
  .vp-pic {
    width:180px;
    height:180px;
    max-width:100%;
    max-height:100%;
    background:#ddd;
    border:4px solid #000;
    border-radius:.5rem;
    background-size:cover;
    background-position:center;
    background-repeat:no-repeat;
    position:relative;
  }

  .candidate-name,
  .vp-name {
    font-size:1rem;
    font-weight:800;
    line-height:1.1rem;
    text-transform:uppercase;
    margin-top:.5rem;
    color:#000;
  }

  .vp-label {
    font-size:.7rem;
    font-weight:700;
    margin-top:.25rem;
    line-height:.8rem;
    color:#000;
    text-transform:uppercase;
  }

  .message-block {
    flex:1;
    min-width:200px;
    border:4px solid #000;
    border-radius:.5rem;
    background:#fff;
    color:#000;
    padding:.75rem;
    display:flex;
    flex-direction:column;
    font-family:"Inter",system-ui,sans-serif;
  }

  .message-headline {
    font-size:1.1rem;
    line-height:1.2rem;
    font-weight:800;
    text-transform:uppercase;
    margin-bottom:.5rem;
    text-align:center;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-wrap:wrap;
    gap:.5rem;
  }

  .little-stars {
    display:flex;
    gap:.25rem;
  }
  .little-stars svg {
    width:1rem;
    height:1rem;
  }

  .stances-list {
    display:flex;
    flex-direction:column;
    gap:.5rem;
    font-size:.8rem;
    line-height:1rem;
    font-weight:600;
    color:#000;
  }

  .stance-item {
    display:flex;
    gap:.5rem;
    align-items:flex-start;
  }

  .stance-icon {
    flex-shrink:0;
    border-radius:.25rem;
    font-size:.6rem;
    font-weight:700;
    line-height:.8rem;
    color:#fff;
    min-width:2rem;
    text-align:center;
    padding:.4rem .3rem;
    background:#000;
    display:flex;
    align-items:center;
    justify-content:center;
    height:1.5rem;
  }

  .stance-text {
    flex:1;
    min-width:0;
  }

  .stance-title {
    font-size:.8rem;
    line-height:1rem;
    font-weight:700;
    text-transform:uppercase;
  }

  .stance-desc {
    font-family:"Inter",system-ui,sans-serif;
    font-size:.75rem;
    line-height:1rem;
    font-weight:500;
    margin-top:.15rem;
  }

  /* bottom footer: party / slogan */
  .poster-footer {
    font-weight:800;
    color:#fff;
    text-align:center;
    text-transform:uppercase;
    padding:1rem .75rem 1.25rem;
    border-top:4px solid #000;
    position:relative;
  }

  .footer-party {
    font-size:1.1rem;
    line-height:1.2rem;
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    align-items:center;
    gap:.5rem;
  }
  .footer-party .party-icon {
    width:1.5rem;
    height:1.5rem;
    flex-shrink:0;
  }

  .footer-slogan {
    margin-top:.5rem;
    font-size:1rem;
    line-height:1.2rem;
  }

  .legal-note {
    margin-top:.75rem;
    font-size:.6rem;
    line-height:.8rem;
    font-weight:600;
    color:#fff;
    font-family:"Inter",system-ui,sans-serif;
  }

  /* LIVE MODE OVERLAY */
  .live-screen {
    position:fixed;
    inset:0;
    background:var(--bg);
    padding:1rem;
    display:none;
    flex-direction:column;
    z-index:9999;
  }

  .live-topbar {
    display:flex;
    flex-wrap:wrap;
    align-items:flex-start;
    justify-content:space-between;
    margin-bottom:1rem;
    gap:1rem;
  }

  .live-topbar-left h2 {
    margin:0;
    font-size:.9rem;
    line-height:1.1rem;
    font-weight:600;
    color:var(--text-main);
    display:flex;
    align-items:center;
    gap:.5rem;
  }
  .live-topbar-left p {
    margin:.25rem 0 0;
    font-size:.7rem;
    line-height:.9rem;
    color:var(--text-dim);
    max-width:480px;
  }

  .live-main {
    flex:1;
    min-height:0;
    border:1px solid var(--panelEdge);
    background:var(--panel);
    border-radius:var(--radius-xl);
    box-shadow:0 32px 96px rgba(0,0,0,.9);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:1rem;
    overflow:auto;
  }

  .poster.printable {
    /* same poster class, just reused in live mode */
  }

  /* PRINT STYLES */
  @media print {
    body {
      background:#fff !important;
      color:#000 !important;
    }
    header,
    .config-panel,
    .preview-title-bar,
    .live-topbar,
    .live-topbar-right,
    .live-exit-btn,
    .live-print-hint,
    .preview-title-right,
    .live-hint {
      display:none !important;
    }

    .poster-area-outer,
    .live-main {
      border:0 !important;
      background:#fff !important;
      padding:0 !important;
      box-shadow:none !important;
    }

    .poster {
      border:4px solid #000 !important;
      box-shadow:none !important;
      width:100% !important;
      max-width:100% !important;
      border-radius:0 !important;
    }

    .live-screen {
      position:static !important;
      inset:auto !important;
      padding:0 !important;
      background:#fff !important;
      display:block !important;
    }
  }

  /* SMALL SCREENS */
  @media (max-width:900px){
    main.app-shell {
      flex-direction:column;
    }
    .config-panel {
      width:100%;
      max-width:none;
      order:2;
    }
    .preview-wrapper {
      order:1;
      min-height:400px;
    }
  }
</style>
</head>
<body>

<header>
  <div class="title-group">
    <h1>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
           stroke-linecap="round" stroke-linejoin="round">
        <path d="M4 12l2 0"></path>
        <path d="M18 12l2 0"></path>
        <path d="M12 4l0 2"></path>
        <path d="M12 18l0 2"></path>
        <path d="M5.6 5.6l1.4 1.4"></path>
        <path d="M17 17l1.4 1.4"></path>
        <path d="M5.6 18.4l1.4-1.4"></path>
        <path d="M17 7l1.4-1.4"></path>
        <circle cx="12" cy="12" r="4"></circle>
      </svg>
      YOU for President
    </h1>
    <p>
      Make your own “FOR PRESIDENT” poster. Pick party, colors, stances, add you and
      your VP, then hit LIVE and print to PDF. This is for entertainment / parody.
    </p>
  </div>

  <div class="actions">
    <button class="primary" id="btnGoLive">GO LIVE / PRINT VIEW</button>
    <button class="danger small" id="btnClear">Reset All</button>
  </div>
</header>

<main class="app-shell">
  <!-- CONFIG PANEL -->
  <aside class="config-panel" id="configPanel">
    <!-- BASIC INFO -->
    <section class="config-section">
      <h2>
        <span class="label">
          Basic Info
        </span>
        <span class="sub">Who are you?</span>
      </h2>

      <div class="field">
        <label for="candidateName">Your Candidate Name</label>
        <input id="candidateName" type="text" placeholder="e.g. Alex Citizen" />
      </div>

      <div class="two-cols">
        <div class="col field">
          <label for="vpName">Vice President Name<span class="mini-note">(optional)</span></label>
          <input id="vpName" type="text" placeholder="e.g. Taylor Friend" />
        </div>
        <div class="col field">
          <label for="slogan">Campaign Slogan</label>
          <input id="slogan" type="text" placeholder="e.g. A Future For Everyone" />
        </div>
      </div>

      <div class="field">
        <label for="headlineMsg">Headline Message / Core Promise</label>
        <input id="headlineMsg" type="text" placeholder="e.g. Rebuild, Reunite, Rise" />
      </div>
    </section>

    <!-- PARTY + COLORS -->
    <section class="config-section">
      <h2>
        <span class="label">
          Party & Colors
        </span>
        <span class="sub">Style / theme</span>
      </h2>

      <div class="field">
        <label for="partyPreset">Party Preset</label>
        <select id="partyPreset">
          <option value="dem">Democratic (blue)</option>
          <option value="gop">Republican (red)</option>
          <option value="ind">Independent (green)</option>
          <option value="custom">Custom</option>
        </select>
      </div>

      <div class="field">
        <label for="partyName">Party / Movement Name</label>
        <input id="partyName" type="text" placeholder="e.g. Unity Party" />
      </div>

      <div class="two-cols">
        <div class="col field">
          <label for="color1">Color 1 (Topband)</label>
          <input id="color1" type="color" />
        </div>
        <div class="col field">
          <label for="color2">Color 2 (Topband)</label>
          <input id="color2" type="color" />
        </div>
      </div>

      <div class="field">
        <label for="color3">Color 3 (Bottom Footer)</label>
        <input id="color3" type="color" />
      </div>

      <p class="mini-note">
        Presets auto-fill classic red/white/blue looks. Custom lets you go wild.
      </p>
    </section>

    <!-- IMAGES -->
    <section class="config-section">
      <h2>
        <span class="label">Photos</span>
        <span class="sub">Optional</span>
      </h2>

      <div class="upload-row">
        <div style="font-weight:600;color:var(--text-main);font-size:.75rem;line-height:1rem;">
          Candidate Photo
        </div>
        <div class="mini-note">
          Square-ish works best. Stored only in your browser.
        </div>
        <input id="candidatePhoto" type="file" accept="image/*" />
      </div>

      <div class="upload-row">
        <div style="font-weight:600;color:var(--text-main);font-size:.75rem;line-height:1rem;">
          Vice President Photo
        </div>
        <div class="mini-note">
          Optional. Also stays local.
        </div>
        <input id="vpPhoto" type="file" accept="image/*" />
      </div>
    </section>

    <!-- POLICY POINTS -->
    <section class="config-section">
      <h2>
        <span class="label">Policy Points</span>
        <span class="sub">Pick or write your stance</span>
      </h2>

      <div class="stance-row" data-stance-index="0">
        <div class="top">
          <select class="stancePresetSelect">
            <option value="jobs">Jobs & Wages</option>
            <option value="healthcare">Healthcare</option>
            <option value="education">Education</option>
            <option value="safety">Public Safety</option>
            <option value="custom">Custom Topic</option>
          </select>
          <input class="stanceCustomTitle" type="text" placeholder="Custom Topic Title" style="display:none;" />
        </div>
        <textarea class="stanceText"
          placeholder="Example: I will raise the minimum wage, bring back manufacturing, and fight for working families."></textarea>
      </div>

      <div class="stance-row" data-stance-index="1">
        <div class="top">
          <select class="stancePresetSelect">
            <option value="jobs">Jobs & Wages</option>
            <option value="healthcare">Healthcare</option>
            <option value="education">Education</option>
            <option value="safety">Public Safety</option>
            <option value="custom">Custom Topic</option>
          </select>
          <input class="stanceCustomTitle" type="text" placeholder="Custom Topic Title" style="display:none;" />
        </div>
        <textarea class="stanceText"
          placeholder="Example: Quality healthcare is a human right. Lower costs, protect coverage, expand mental health care."></textarea>
      </div>

      <div class="stance-row" data-stance-index="2">
        <div class="top">
          <select class="stancePresetSelect">
            <option value="jobs">Jobs & Wages</option>
            <option value="healthcare">Healthcare</option>
            <option value="education">Education</option>
            <option value="safety">Public Safety</option>
            <option value="custom">Custom Topic</option>
          </select>
          <input class="stanceCustomTitle" type="text" placeholder="Custom Topic Title" style="display:none;" />
        </div>
        <textarea class="stanceText"
          placeholder="Example: Our kids deserve great schools, real teachers, safe classrooms, and debt relief for students."></textarea>
      </div>

    </section>

    <section class="config-section">
      <h2>
        <span class="label">Local Save</span>
        <span class="sub">Auto-saves every edit</span>
      </h2>
      <p class="mini-note" style="margin:0 0 .5rem;">
        Everything here stays in <strong>your browser only</strong>. Refreshing the page will reload it.
      </p>
      <button class="small" id="btnSaveNow">Save Now</button>
    </section>

    <section class="config-section" style="margin-bottom:4rem;">
      <h2>
        <span class="label">How to Export</span>
        <span class="sub">Make your PDF</span>
      </h2>
      <ol style="margin:0;padding-left:1rem;font-size:.7rem;line-height:1rem;color:var(--text-dim);">
        <li style="margin-bottom:.5rem;">Click <b>GO LIVE / PRINT VIEW</b>.</li>
        <li style="margin-bottom:.5rem;">Your poster fills the screen.</li>
        <li style="margin-bottom:.5rem;">Use your browser menu → Print → “Save as PDF”.</li>
        <li>Done. You’re “official.”</li>
      </ol>
    </section>

  </aside>

  <!-- PREVIEW PANEL (EDIT MODE) -->
  <section class="preview-wrapper">
    <div class="preview-title-bar">
      <div class="preview-title-left">
        <h2>
          Poster Preview
        </h2>
        <p>Updates live as you edit on the left.</p>
      </div>

      <div class="preview-title-right">
        <button class="primary small" id="btnPrintHint">Print Help</button>
        <div class="live-hint">
          Want full-screen / clean layout for saving as PDF?<br />
          Hit <b>GO LIVE / PRINT VIEW</b> up top.
        </div>
      </div>
    </div>

    <div class="poster-area-outer">
      <div class="poster" id="posterEdit">
        <!-- stripes header -->
        <div class="poster-topband" id="posterTopBand">
          <div class="poster-stripes" id="posterStripes">
            <!-- 3 stripes, will color with JS -->
            <div class="stripe" style="background:#1e3a8a;"></div>
            <div class="stripe" style="background:#ffffff;"></div>
            <div class="stripe" style="background:#b91c1c;"></div>
          </div>
          <div style="position:relative;z-index:2;">
            <div class="line1" id="topLine1">VOTE FOR</div>
            <div class="line2"><span id="candidateNameDisplay">YOUR NAME</span> FOR PRESIDENT</div>
          </div>
        </div>

        <!-- middle row -->
        <div class="poster-mid">
          <!-- candidate block -->
          <div class="candidate-block">
            <div class="candidate-pic" id="candidatePic"></div>
            <div class="candidate-name" id="candidateNameLower">YOUR NAME</div>
          </div>

          <!-- message block -->
          <div class="message-block">
            <div class="message-headline" id="headlineDisplay">
              <div class="little-stars">
                <svg viewBox="0 0 24 24" fill="currentColor" stroke="none">
                  <path d="M12 2l2.9 6.2 6.8.6-5.2 4.5 1.6 6.6L12 16.9 5.9 20l1.6-6.6L2.3 8.8l6.8-.6L12 2z"/>
                </svg>
                <svg viewBox="0 0 24 24" fill="currentColor" stroke="none">
                  <path d="M12 2l2.9 6.2 6.8.6-5.2 4.5 1.6 6.6L12 16.9 5.9 20l1.6-6.6L2.3 8.8l6.8-.6L12 2z"/>
                </svg>
              </div>
              <span id="headlineMsgDisplay" style="text-align:center;">REBUILD • REUNITE • RISE</span>
              <div class="little-stars">
                <svg viewBox="0 0 24 24" fill="currentColor" stroke="none">
                  <path d="M12 2l2.9 6.2 6.8.6-5.2 4.5 1.6 6.6L12 16.9 5.9 20l1.6-6.6L2.3 8.8l6.8-.6L12 2z"/>
                </svg>
                <svg viewBox="0 0 24 24" fill="currentColor" stroke="none">
                  <path d="M12 2l2.9 6.2 6.8.6-5.2 4.5 1.6 6.6L12 16.9 5.9 20l1.6-6.6L2.3 8.8l6.8-.6L12 2z"/>
                </svg>
              </div>
            </div>

            <div class="stances-list" id="stancesList">
              <!-- Filled by JS -->
            </div>
          </div>

          <!-- vp block -->
          <div class="vp-block">
            <div class="vp-pic" id="vpPic"></div>
            <div class="vp-name" id="vpNameDisplay">VICE NAME</div>
            <div class="vp-label">VICE PRESIDENT</div>
          </div>
        </div>

        <!-- footer -->
        <div class="poster-footer" id="posterFooter">
          <div class="footer-party">
            <div class="party-icon" id="partyIcon">
              <!-- simple patriotic badge SVG -->
              <svg viewBox="0 0 24 24" fill="currentColor" stroke="none">
                <circle cx="12" cy="12" r="10" fill="#1e3a8a"></circle>
                <circle cx="12" cy="12" r="6" fill="#fff"></circle>
                <circle cx="12" cy="12" r="3" fill="#b91c1c"></circle>
              </svg>
            </div>
            <span id="partyNameDisplay">UNITY PARTY</span>
          </div>

          <div class="footer-slogan" id="sloganDisplay">
            A FUTURE FOR EVERYONE
          </div>

          <div class="legal-note">
            Paid for by Citizens for <span id="legalNameDisplay">YOUR NAME</span> (not really).
            This is parody / personal expression.
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- LIVE MODE FULLSCREEN -->
<div class="live-screen" id="liveScreen">
  <div class="live-topbar">
    <div class="live-topbar-left">
      <h2>
        LIVE / PRINT VIEW
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             style="width:1rem;height:1rem;">
          <rect x="3" y="4" width="18" height="14" rx="2" ry="2"></rect>
          <path d="M8 20h8"></path>
          <path d="M12 16v4"></path>
        </svg>
      </h2>
      <p>
        This is how it prints / saves to PDF. Use your browser Print now.<br/>
        (After you're done, click EXIT LIVE.)
      </p>
    </div>
    <div class="live-topbar-right" style="display:flex;flex-wrap:wrap;gap:.5rem;">
      <button class="primary small" id="btnBrowserPrint">Browser Print</button>
      <button class="danger small" id="btnExitLive">Exit Live</button>
    </div>
  </div>

  <div class="live-main">
    <div class="poster printable" id="posterLive">
      <!-- we will clone poster content here dynamically so it's identical -->
    </div>
  </div>
</div>

<script>
/*
STATE + CONSTANTS
Everything is stored in localStorage under "youForPresidentConfig".
We sync config -> poster on each change.
*/

const DEFAULT_STATE = {
  candidateName: "YOUR NAME",
  vpName: "VICE NAME",
  slogan: "A FUTURE FOR EVERYONE",
  headlineMsg: "REBUILD • REUNITE • RISE",
  partyPreset: "dem",
  partyName: "Unity Party",
  color1: "#1e3a8a", // deep blue
  color2: "#ffffff",
  color3: "#b91c1c", // deep red
  candidatePhotoData: "",
  vpPhotoData: "",
  stances: [
    {
      topicPreset:"jobs",
      customTitle:"",
      text:"I will raise the minimum wage, bring back manufacturing, and fight for working families."
    },
    {
      topicPreset:"healthcare",
      customTitle:"",
      text:"Quality healthcare is a human right. Lower costs, protect coverage, expand mental health care."
    },
    {
      topicPreset:"education",
      customTitle:"",
      text:"Our kids deserve great schools, safe classrooms, and real debt relief for students."
    }
  ]
};

let appState = loadState();

/* DOM HOOKS */
const candidateNameInput   = document.getElementById("candidateName");
const vpNameInput          = document.getElementById("vpName");
const sloganInput          = document.getElementById("slogan");
const headlineMsgInput     = document.getElementById("headlineMsg");

const partyPresetSelect    = document.getElementById("partyPreset");
const partyNameInput       = document.getElementById("partyName");
const color1Input          = document.getElementById("color1");
const color2Input          = document.getElementById("color2");
const color3Input          = document.getElementById("color3");

const candidatePhotoInput  = document.getElementById("candidatePhoto");
const vpPhotoInput         = document.getElementById("vpPhoto");

const stanceRows           = Array.from(document.querySelectorAll(".stance-row"));

const candidateNameDisplay = document.getElementById("candidateNameDisplay");
const candidateNameLower   = document.getElementById("candidateNameLower");
const vpNameDisplay        = document.getElementById("vpNameDisplay");
const headlineMsgDisplay   = document.getElementById("headlineMsgDisplay");
const partyNameDisplay     = document.getElementById("partyNameDisplay");
const sloganDisplay        = document.getElementById("sloganDisplay");
const legalNameDisplay     = document.getElementById("legalNameDisplay");
const stancesList          = document.getElementById("stancesList");

const posterEdit           = document.getElementById("posterEdit");
const posterLive           = document.getElementById("posterLive");

const posterTopBand        = document.getElementById("posterTopBand");
const posterStripes        = document.getElementById("posterStripes");
const posterFooter         = document.getElementById("posterFooter");
const candidatePic         = document.getElementById("candidatePic");
const vpPic                = document.getElementById("vpPic");

const btnGoLive            = document.getElementById("btnGoLive");
const liveScreen           = document.getElementById("liveScreen");
const btnExitLive          = document.getElementById("btnExitLive");
const btnBrowserPrint      = document.getElementById("btnBrowserPrint");
const btnPrintHint         = document.getElementById("btnPrintHint");
const btnSaveNow           = document.getElementById("btnSaveNow");
const btnClear             = document.getElementById("btnClear");

/* HELPERS */
function saveState() {
  localStorage.setItem("youForPresidentConfig", JSON.stringify(appState));
}

function loadState() {
  try {
    const txt = localStorage.getItem("youForPresidentConfig");
    if (!txt) return structuredClone(DEFAULT_STATE);
    const parsed = JSON.parse(txt);
    // merge with defaults in case we add new keys later
    return deepMerge(structuredClone(DEFAULT_STATE), parsed);
  } catch(e){
    return structuredClone(DEFAULT_STATE);
  }
}

// shallow merge objects, recurse if both sides are objects/arrays
function deepMerge(base, override){
  if (Array.isArray(base) && Array.isArray(override)){
    // merge arrays by index
    const out = base.map((v,i)=> {
      if (i < override.length){
        return deepMerge(v, override[i]);
      } else {
        return structuredClone(v);
      }
    });
    // if override is longer
    for (let j=base.length;j<override.length;j++){
      out.push(structuredClone(override[j]));
    }
    return out;
  } else if (isObj(base) && isObj(override)){
    const out = {};
    const keys = new Set([...Object.keys(base),...Object.keys(override)]);
    keys.forEach(k=>{
      if (k in base && k in override){
        out[k] = deepMerge(base[k], override[k]);
      } else if (k in override){
        out[k] = structuredClone(override[k]);
      } else {
        out[k] = structuredClone(base[k]);
      }
    });
    return out;
  } else {
    return structuredClone(override);
  }
}
function isObj(v){
  return v && typeof v==="object" && !Array.isArray(v);
}

/* UPDATE UI FROM STATE */
function renderPoster(){
  // candidate + vp names
  candidateNameDisplay.textContent = appState.candidateName || "YOUR NAME";
  candidateNameLower.textContent   = appState.candidateName || "YOUR NAME";
  vpNameDisplay.textContent        = appState.vpName || "VICE NAME";

  // headline + slogan
  headlineMsgDisplay.textContent = appState.headlineMsg || "REBUILD • REUNITE • RISE";
  sloganDisplay.textContent      = appState.slogan || "A FUTURE FOR EVERYONE";

  // party name + legal footer name
  partyNameDisplay.textContent   = appState.partyName || "Unity Party";
  legalNameDisplay.textContent   = appState.candidateName || "YOUR NAME";

  // stripes / colors
  // We'll paint 3 stripes in top band: color1, white/ color2, color3
  // Actually we respect color1, color2, color3 in order:
  // stripe0=color1, stripe1=color2, stripe2=color3
  const stripes = posterStripes.querySelectorAll(".stripe");
  if (stripes[0]) stripes[0].style.background = appState.color1;
  if (stripes[1]) stripes[1].style.background = appState.color2;
  if (stripes[2]) stripes[2].style.background = appState.color3;

  // topband text color: pick white unless very light
  const textColor = pickGoodTextColor(appState.color1);
  posterTopBand.style.color = textColor;

  // footer bg uses color3 and text forced white/black by contrast
  posterFooter.style.background = appState.color3;
  posterFooter.style.color      = pickGoodTextColor(appState.color3);

  // candidate pic
  if (appState.candidatePhotoData) {
    candidatePic.style.backgroundImage = `url(${appState.candidatePhotoData})`;
  } else {
    candidatePic.style.backgroundImage = "none";
    candidatePic.style.backgroundColor = "#ddd";
  }

  // vp pic
  if (appState.vpPhotoData) {
    vpPic.style.backgroundImage = `url(${appState.vpPhotoData})`;
  } else {
    vpPic.style.backgroundImage = "none";
    vpPic.style.backgroundColor = "#ddd";
  }

  // stances list
  stancesList.innerHTML = "";
  appState.stances.forEach((stance, idx)=>{
    const topicName = stanceTopicName(stance);
    const div = document.createElement("div");
    div.className="stance-item";

    const icon = document.createElement("div");
    icon.className="stance-icon";
    icon.style.background = appState.color1 || "#000";
    icon.textContent = (idx+1).toString();

    const txtWrap = document.createElement("div");
    txtWrap.className="stance-text";

    const titleEl = document.createElement("div");
    titleEl.className="stance-title";
    titleEl.textContent = topicName.toUpperCase();

    const descEl = document.createElement("div");
    descEl.className="stance-desc";
    descEl.textContent = stance.text || "";

    txtWrap.appendChild(titleEl);
    txtWrap.appendChild(descEl);

    div.appendChild(icon);
    div.appendChild(txtWrap);
    stancesList.appendChild(div);
  });
}

// helper for contrast
function pickGoodTextColor(bgColor){
  // bgColor like #RRGGBB
  const c = hexToRgb(bgColor || "#000000");
  const luminance = (0.299*c.r + 0.587*c.g + 0.114*c.b)/255;
  return (luminance > 0.5) ? "#000" : "#fff";
}
function hexToRgb(hex){
  let h = hex.replace("#","");
  if (h.length===3){
    h = h[0]+h[0]+h[1]+h[1]+h[2]+h[2];
  }
  const r = parseInt(h.slice(0,2),16);
  const g = parseInt(h.slice(2,4),16);
  const b = parseInt(h.slice(4,6),16);
  return {r,g,b};
}

// figure topic name to show
function stanceTopicName(stance){
  if (stance.topicPreset==="custom" && stance.customTitle.trim()!==""){
    return stance.customTitle.trim();
  }
  switch(stance.topicPreset){
    case "jobs": return "Jobs & Wages";
    case "healthcare": return "Healthcare";
    case "education": return "Education";
    case "safety": return "Public Safety";
    default: return "Your Issue";
  }
}

/* UPDATE STATE FROM FORM FIELDS */
function syncFromInputs(){
  appState.candidateName = candidateNameInput.value.trim() || "";
  appState.vpName        = vpNameInput.value.trim()        || "";
  appState.slogan        = sloganInput.value.trim()        || "";
  appState.headlineMsg   = headlineMsgInput.value.trim()   || "";
  appState.partyPreset   = partyPresetSelect.value;
  appState.partyName     = partyNameInput.value.trim()     || "";
  appState.color1        = color1Input.value;
  appState.color2        = color2Input.value;
  appState.color3        = color3Input.value;

  // stances
  stanceRows.forEach((row, idx)=>{
    const presetSel = row.querySelector(".stancePresetSelect");
    const customIn  = row.querySelector(".stanceCustomTitle");
    const txtArea   = row.querySelector(".stanceText");
    if (!appState.stances[idx]){
      appState.stances[idx] = {
        topicPreset:"custom",
        customTitle:"",
        text:""
      };
    }
    appState.stances[idx].topicPreset = presetSel.value;
    appState.stances[idx].customTitle = customIn.value;
    appState.stances[idx].text        = txtArea.value;
  });

  saveState();
  renderPoster();
  clonePosterToLive();
}

function applyPresetColors(preset){
  if (preset==="dem"){
    // Deep blue / white / red
    appState.color1 = "#1e3a8a"; // blue
    appState.color2 = "#ffffff"; // white
    appState.color3 = "#1e3a8a"; // reuse blue footer (blue theme)
    appState.partyName = "Democratic Party";
  } else if (preset==="gop"){
    // Red / white / red
    appState.color1 = "#b91c1c"; // red
    appState.color2 = "#ffffff"; // white
    appState.color3 = "#b91c1c"; // red footer
    appState.partyName = "Republican Party";
  } else if (preset==="ind"){
    // Green / white / green
    appState.color1 = "#14532d"; // green
    appState.color2 = "#ffffff"; // white
    appState.color3 = "#14532d"; // green footer
    appState.partyName = "Independent";
  } else {
    // custom: keep current chosen values, don't override colors or name
    return;
  }

  // also update inputs to match
  color1Input.value  = appState.color1;
  color2Input.value  = appState.color2;
  color3Input.value  = appState.color3;
  partyNameInput.value = appState.partyName;
}

/* HANDLE FILE UPLOAD -> BASE64 */
function handleImageUpload(fileInputEl, targetKey){
  const file = fileInputEl.files && fileInputEl.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = (ev)=>{
    appState[targetKey] = ev.target.result;
    saveState();
    renderPoster();
    clonePosterToLive();
  };
  reader.readAsDataURL(file);
}

/* CLONE POSTER TO LIVE MODE */
function clonePosterToLive(){
  // copy innerHTML of posterEdit into posterLive
  posterLive.innerHTML = posterEdit.innerHTML;
  // also re-run dynamic styles in live poster
  // We have to sync colors/images for live poster manually because clone won't copy computed style changes we applied via JS style, BUT we already applied inline styles like 'backgroundImage' etc directly on elements INSIDE posterEdit, not posterLive.
  // So after cloning, we now need to re-find those elements in posterLive and apply same inline.
  const editCandidatePic = posterEdit.querySelector("#candidatePic");
  const liveCandidatePic = posterLive.querySelector("#candidatePic");
  if (editCandidatePic && liveCandidatePic){
    liveCandidatePic.style.backgroundImage = editCandidatePic.style.backgroundImage;
    liveCandidatePic.style.backgroundColor = editCandidatePic.style.backgroundColor;
  }
  const editVpPic = posterEdit.querySelector("#vpPic");
  const liveVpPic = posterLive.querySelector("#vpPic");
  if (editVpPic && liveVpPic){
    liveVpPic.style.backgroundImage = editVpPic.style.backgroundImage;
    liveVpPic.style.backgroundColor = editVpPic.style.backgroundColor;
  }

  // Colors for stripes/footer are inline on posterEdit nodes, so clone brought them already.
  // We should also update candidate/vp names etc but that's in innerHTML already set by renderPoster().
}

/* EVENT LISTENERS */
candidateNameInput.addEventListener("input", ()=>{
  syncFromInputs();
});
vpNameInput.addEventListener("input", ()=>{
  syncFromInputs();
});
sloganInput.addEventListener("input", ()=>{
  syncFromInputs();
});
headlineMsgInput.addEventListener("input", ()=>{
  syncFromInputs();
});

partyPresetSelect.addEventListener("change", ()=>{
  appState.partyPreset = partyPresetSelect.value;
  // apply preset if not custom
  if (appState.partyPreset!=="custom"){
    applyPresetColors(appState.partyPreset);
  }
  // reflect changed inputs into appState again
  syncFromInputs();
});

partyNameInput.addEventListener("input", ()=>{
  syncFromInputs();
});
color1Input.addEventListener("input", ()=>{
  syncFromInputs();
});
color2Input.addEventListener("input", ()=>{
  syncFromInputs();
});
color3Input.addEventListener("input", ()=>{
  syncFromInputs();
});

candidatePhotoInput.addEventListener("change", ()=>{
  handleImageUpload(candidatePhotoInput,"candidatePhotoData");
});
vpPhotoInput.addEventListener("change", ()=>{
  handleImageUpload(vpPhotoInput,"vpPhotoData");
});

// stance rows:
stanceRows.forEach((row)=>{
  const presetSel = row.querySelector(".stancePresetSelect");
  const customIn  = row.querySelector(".stanceCustomTitle");
  const txtArea   = row.querySelector(".stanceText");

  presetSel.addEventListener("change", ()=>{
    if (presetSel.value==="custom"){
      customIn.style.display="";
    } else {
      customIn.style.display="none";
    }
    syncFromInputs();
  });
  customIn.addEventListener("input", ()=>{
    syncFromInputs();
  });
  txtArea.addEventListener("input", ()=>{
    syncFromInputs();
  });
});

/* GO LIVE / EXIT LIVE */
btnGoLive.addEventListener("click", ()=>{
  clonePosterToLive();
  liveScreen.style.display="flex";
  window.scrollTo({top:0,behavior:"instant"});
});

btnExitLive.addEventListener("click", ()=>{
  liveScreen.style.display="none";
});

btnBrowserPrint.addEventListener("click", ()=>{
  window.print();
});

btnPrintHint.addEventListener("click", ()=>{
  alert(
`How to export:

1. Click "GO LIVE / PRINT VIEW".
2. Your poster fills the page.
3. Use browser menu → Print.
4. Pick "Save as PDF".
5. Save it.

That's your custom campaign poster.`
  );
});

/* SAVE NOW BUTTON */
btnSaveNow.addEventListener("click", ()=>{
  saveState();
  alert("Saved in your browser. If you refresh, it will reload.");
});

/* CLEAR / RESET BUTTON */
btnClear.addEventListener("click", ()=>{
  if (!confirm("This will wipe everything and reload defaults.\nAre you sure?")) return;
  appState = structuredClone(DEFAULT_STATE);
  applyStateToInputs();
  saveState();
  renderPoster();
  clonePosterToLive();
});

/* SYNC UI INPUTS FROM STATE (ON LOAD) */
function applyStateToInputs(){
  candidateNameInput.value = appState.candidateName;
  vpNameInput.value        = appState.vpName;
  sloganInput.value        = appState.slogan;
  headlineMsgInput.value   = appState.headlineMsg;
  partyPresetSelect.value  = appState.partyPreset;
  partyNameInput.value     = appState.partyName;
  color1Input.value        = appState.color1;
  color2Input.value        = appState.color2;
  color3Input.value        = appState.color3;

  stanceRows.forEach((row, idx)=>{
    const presetSel = row.querySelector(".stancePresetSelect");
    const customIn  = row.querySelector(".stanceCustomTitle");
    const txtArea   = row.querySelector(".stanceText");

    const st = appState.stances[idx] || {
      topicPreset:"custom",
      customTitle:"",
      text:""
    };

    presetSel.value = st.topicPreset;
    txtArea.value   = st.text;
    customIn.value  = st.customTitle;
    if (st.topicPreset==="custom"){
      customIn.style.display="";
    } else {
      customIn.style.display="none";
    }
  });
}

/* FIRST LOAD */
applyStateToInputs();
renderPoster();
clonePosterToLive();
</script>

</body>
</html>
