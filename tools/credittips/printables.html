<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Credit Tips | Printable Letters & Templates</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
<style>
  :root{
    --bg:#0e1116; --panel:#121722; --panel-2:#0f1520; --ink:#e9f0ff; --muted:#a8b3cf;
    --brand:#7c5cff; --brand-2:#2dd4bf; --border:#1d2540; --nav:#0a0f1b; --focus:#2a3457;
    --ok:#22c55e; --warn:#f59e0b; --bad:#ef4444; --shadow:0 10px 30px rgba(0,0,0,.45);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:radial-gradient(1200px 800px at 10% -10%, #1a1f33 0, transparent 60%),
                         radial-gradient(1000px 600px at 100% 0%, #122032 0, transparent 55%),
                         var(--bg);
    color:var(--ink); font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; line-height:1.45;
  }

  /* Topbar */
  .topbar{position:sticky;top:0;z-index:50;backdrop-filter:blur(10px);
    background:linear-gradient(180deg,rgba(10,14,24,.9),rgba(10,14,24,.65)); border-bottom:1px solid var(--border)}
  .topwrap{max-width:1200px;margin:0 auto;padding:12px 16px;display:flex;gap:12px;align-items:center}
  .logo{font-weight:800;letter-spacing:.3px;color:var(--ink);display:flex;align-items:center;gap:10px}
  .logo-badge{width:28px;height:28px;display:grid;place-items:center;border-radius:8px;
    background:radial-gradient(180px 80px at 130% 120%,rgba(124,92,255,.35),transparent 60%),
               radial-gradient(120px 90px at -30% -40%,rgba(45,212,191,.35),transparent 60%),
               linear-gradient(135deg,#1b1f2f,#171b2b);
    box-shadow:var(--shadow);border:1px solid var(--border);font-size:14px;font-weight:800;color:#eaeaff}
  .crumbs{margin-left:auto;display:flex;gap:8px;flex-wrap:wrap}
  .crumb{border:1px solid var(--border);background:var(--nav);border-radius:10px;padding:6px 10px;color:var(--muted);font-size:12px}
  .home{color:var(--ink);text-decoration:none}

  /* Layout */
  .wrap{max-width:1200px;margin:22px auto;padding:0 16px;display:grid;grid-template-columns:320px 1fr;gap:18px}
  @media (max-width: 980px){ .wrap{grid-template-columns:1fr}.sidebar{order:2}.main{order:1} }

  /* Sidebar */
  .sidebar{background:linear-gradient(180deg,rgba(18,23,34,.9),rgba(18,23,34,.7));
    border:1px solid var(--border);border-radius:16px;padding:12px;box-shadow:var(--shadow)}
  .side-title{margin:6px 8px 12px;font-size:14px;color:var(--muted);text-transform:uppercase;letter-spacing:.12em}
  .acc{display:flex;flex-direction:column;gap:10px}
  .acc button{width:100%;text-align:left;padding:12px;background:linear-gradient(135deg,#0e1422,#0d1320);
    border:1px solid var(--border);border-radius:12px;color:var(--ink);font-weight:600;cursor:pointer;position:relative;transition:transform .05s}
  .acc button:hover{transform:translateY(-1px)}
  .acc button:focus-visible{outline:2px solid var(--focus)}
  .acc button.active{background:linear-gradient(135deg,rgba(124,92,255,.22),rgba(45,212,191,.18));border-color:#2f3764}
  .badge{position:absolute;right:10px;top:9px;padding:2px 8px;font-size:12px;border:1px solid var(--border);border-radius:999px;color:var(--muted);background:#0c1222}

  /* Main */
  .main{display:flex;flex-direction:column;gap:16px}
  .card{background:linear-gradient(180deg,rgba(17,22,34,.95),rgba(16,21,33,.85));
    border:1px solid var(--border);border-radius:16px;padding:18px;box-shadow:var(--shadow)}
  .eyebrow{color:var(--muted);font-size:12px;letter-spacing:.12em;text-transform:uppercase}
  .card h2{margin:2px 0 8px}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  @media (max-width: 980px){.grid{grid-template-columns:1fr}}
  .panel{background:linear-gradient(180deg,#0f1526,#0d1422);border:1px solid var(--border);border-radius:14px;padding:14px}

  .form label{display:block;font-size:13px;color:var(--muted);margin:10px 0 6px}
  input[type="text"], input[type="date"], textarea, select{
    width:100%;background:#0c1324;border:1px solid var(--border);border-radius:10px;color:var(--ink);
    padding:10px 12px;font-size:14px
  }
  textarea{min-height:110px;resize:vertical}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  @media (max-width: 820px){ .row{grid-template-columns:1fr} }

  .toolbar{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .btn{appearance:none;border:1px solid var(--border);background:#0c1324;color:var(--ink);
    padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600}
  .btn.primary{background:linear-gradient(135deg,rgba(124,92,255,.25),rgba(45,212,191,.2));border-color:#2f3764}
  .btn.ok{border-color:#1f3d2a;background:#11241a}
  .btn.warn{border-color:#3b2b10;background:#22180a}
  .btn.bad{border-color:#3a1a1a;background:#1e0c0c}

  .preview{white-space:pre-wrap;background:#0b1120;border:1px solid var(--border);border-radius:12px;padding:12px;min-height:260px}

  .foot{max-width:1200px;margin:20px auto 40px;padding:0 16px;color:var(--muted);text-align:center}

  @media print{
    .topbar,.sidebar,.toolbar{display:none}
    .wrap{grid-template-columns:1fr}
    .card{page-break-inside:avoid}
    body{background:#fff;color:#111}
    .preview{background:#fff;border-color:#ddd}
  }
</style>
</head>
<body>
<header class="topbar">
  <div class="topwrap">
    <div class="logo">
      <span class="logo-badge">CR</span>
      Credit Tips — Printables
    </div>
    <div class="crumbs">
      <span class="crumb">Templates</span>
      <a class="crumb home" href="./index.html">← Back to Guide</a>
    </div>
  </div>
</header>

<main class="wrap">
  <aside class="sidebar">
    <div class="side-title">Letter Generators</div>
    <div class="acc" id="navBtns"></div>
  </aside>

  <section class="main">
    <article class="card">
      <div class="eyebrow">Fill • Preview • Print</div>
      <h2 id="tplTitle">Credit Bureau Dispute (CRA)</h2>
      <p class="muted" id="tplDesc" style="color:var(--muted)">
        Use this to dispute inaccurate items with Experian, Equifax, and TransUnion. Attach ID, proof of address, and evidence.
      </p>
      <div class="grid">
        <div class="panel form" id="formPanel">
          <!-- form will render here -->
        </div>
        <div class="panel">
          <div class="toolbar">
            <button class="btn primary" id="copyBtn">Copy</button>
            <button class="btn ok" id="downloadBtn">Download .txt</button>
            <button class="btn" id="printBtn">Print</button>
            <button class="btn warn" id="resetBtn">Reset Fields</button>
          </div>
          <div class="preview" id="preview"></div>
        </div>
      </div>
    </article>
  </section>
</main>

<footer class="foot">
  Educational content only; not financial or legal advice. Use certified mail and keep copies of everything.
</footer>

<script>
/* =========================
   TEMPLATE DEFINITIONS
   ========================= */
const TODAY = new Date().toISOString().slice(0,10);

const ORGS = {
  bureaus: [
    { name:"Experian",  addr:"P.O. Box 4500, Allen, TX 75013" },
    { name:"Equifax",   addr:"P.O. Box 740256, Atlanta, GA 30374-0256" },
    { name:"TransUnion",addr:"P.O. Box 2000, Chester, PA 19016-2000" }
  ],
  chex: { name:"ChexSystems", addr:"P.O. Box 583399, Minneapolis, MN 55458-3399" }
};

const TEMPLATES = [
  {
    id:"cra-dispute",
    title:"Credit Bureau Dispute (CRA)",
    desc:"Dispute inaccurate/obsolete items with Experian, Equifax, and TransUnion. Include copies of ID and address proof.",
    fields:[
      { key:"yourName", label:"Your Full Legal Name", type:"text" },
      { key:"address", label:"Your Address (match ID/utility)", type:"text" },
      { key:"cityStateZip", label:"City, State ZIP", type:"text" },
      { key:"dob", label:"Date of Birth", type:"text" },
      { key:"ssn4", label:"SSN (last 4)", type:"text" },
      { key:"date", label:"Date", type:"date", value:TODAY },
      { key:"bureau", label:"Bureau", type:"select", options:ORGS.bureaus.map(b=>b.name) },
      { key:"acctName", label:"Creditor/Furnisher Name", type:"text" },
      { key:"acctNum", label:"Account Number (as reported)", type:"text" },
      { key:"whatWrong", label:"Exactly What Is Wrong", type:"textarea" },
      { key:"evidence", label:"Evidence You Attach (IDs, statements, letters, etc.)", type:"textarea" }
    ],
    render: v => {
      const addr = ORGS.bureaus.find(b=>b.name===v.bureau)?.addr || "";
      return `${v.date || TODAY}

${v.bureau}
${addr}

Re: Dispute under FCRA §611 — ${v.acctName || "Account"} (${v.acctNum || "N/A"})

${v.yourName}
${v.address}
${v.cityStateZip}
DOB: ${v.dob} — SSN (last 4): ${v.ssn4}

To Whom It May Concern,

I am disputing the accuracy of the following information on my credit report:

Item: ${v.acctName || "Account"} (${v.acctNum || "N/A"})
Error: ${v.whatWrong || "Please see attached explanation and highlights."}

Under the Fair Credit Reporting Act, please conduct a reasonable reinvestigation and either correct or delete this item.
I have enclosed copies of supporting documentation:
${v.evidence || "- Government ID\n- Proof of address (utility bill)\n- Statements/correspondence"}

Please provide me with the results of your investigation and an updated copy of my report. If the furnisher verifies, kindly provide the method of verification, including the furnisher and contact details.

This dispute is sent via certified mail. I will keep copies of all materials. Thank you.

Sincerely,

${v.yourName}
`;
    }
  },
  {
    id:"furnisher-dispute",
    title:"Direct Furnisher Dispute",
    desc:"Dispute inaccurate reporting with the creditor/collector directly. Include specifics and proof.",
    fields:[
      { key:"yourName", label:"Your Full Legal Name", type:"text" },
      { key:"address", label:"Your Address", type:"text" },
      { key:"cityStateZip", label:"City, State ZIP", type:"text" },
      { key:"date", label:"Date", type:"date", value:TODAY },
      { key:"furnisher", label:"Furnisher Name", type:"text" },
      { key:"furnAddr", label:"Furnisher Address", type:"text" },
      { key:"acctNum", label:"Account Number", type:"text" },
      { key:"errors", label:"Specific Errors (dates, amounts, status)", type:"textarea" },
      { key:"evidence", label:"Evidence Attached", type:"textarea" }
    ],
    render: v => `${v.date || TODAY}

${v.furnisher}
${v.furnAddr}

Re: Direct Dispute of Reporting — Account ${v.acctNum}

${v.yourName}
${v.address}
${v.cityStateZip}

To Whom It May Concern,

I am disputing specific inaccuracies you have furnished to the credit reporting agencies for Account ${v.acctNum}.
Errors:
${v.errors || "- See highlighted statements/letters attached."}

Attached are copies of documentation supporting my position:
${v.evidence || "- Statements with correct balances\n- Payment confirmations\n- Correspondence"}

Please investigate and correct/delete the inaccurate information with all credit bureaus. Kindly provide written confirmation of your findings and the changes made.

Sincerely,

${v.yourName}
`
  },
  {
    id:"debt-validation",
    title:"Debt Validation (FDCPA §809)",
    desc:"Request validation of a collection debt. Do not acknowledge the debt; request proof within 30 days of notice.",
    fields:[
      { key:"yourName", label:"Your Full Legal Name", type:"text" },
      { key:"address", label:"Your Address", type:"text" },
      { key:"cityStateZip", label:"City, State ZIP", type:"text" },
      { key:"date", label:"Date", type:"date", value:TODAY },
      { key:"collector", label:"Collector Name", type:"text" },
      { key:"collAddr", label:"Collector Address", type:"text" },
      { key:"acctNum", label:"Collector Account/File #", type:"text" },
      { key:"origCred", label:"Original Creditor (if known)", type:"text" }
    ],
    render: v => `${v.date || TODAY}

${v.collector}
${v.collAddr}

Re: Request for Validation under FDCPA §809 — ${v.acctNum || "File # N/A"}

${v.yourName}
${v.address}
${v.cityStateZip}

To Whom It May Concern,

I received your notice regarding the alleged debt referenced above. This letter is a request for validation pursuant to the Fair Debt Collection Practices Act, 15 U.S.C. §1692g.

Please provide:
1) The amount of the debt and an itemization;
2) The name and address of the original creditor (${v.origCred || "if applicable"});
3) Verification that you are authorized to collect, including a copy of the assignment or agreement;
4) A complete payment history and explanation of how you calculated the amount.

Until you provide proper validation, please cease collection efforts and refrain from reporting the debt to any credit bureau, or otherwise update any reporting to indicate the debt is disputed.

This request is not an acknowledgment of liability. I reserve all rights.

Sincerely,

${v.yourName}
`
  },
  {
    id:"pay-for-delete",
    title:"Pay-For-Delete Offer",
    desc:"Offer a settlement contingent on deletion of the collection tradeline. Get acceptance in writing before paying.",
    fields:[
      { key:"yourName", label:"Your Full Legal Name", type:"text" },
      { key:"address", label:"Your Address", type:"text" },
      { key:"cityStateZip", label:"City, State ZIP", type:"text" },
      { key:"date", label:"Date", type:"date", value:TODAY },
      { key:"collector", label:"Collector Name", type:"text" },
      { key:"collAddr", label:"Collector Address", type:"text" },
      { key:"acctNum", label:"Account/File #", type:"text" },
      { key:"offer", label:"Offer Amount (e.g., $350 as lump sum)", type:"text" },
      { key:"deadline", label:"Offer Expiration Date", type:"date" }
    ],
    render: v => `${v.date || TODAY}

${v.collector}
${v.collAddr}

Re: Settlement Offer Contingent on Deletion — ${v.acctNum}

${v.yourName}
${v.address}
${v.cityStateZip}

To Whom It May Concern,

Without admitting liability, I am willing to settle the above-referenced account for ${v.offer || "the amount specified"} on the condition that your company agrees, in writing, to request deletion of the collection tradeline from Experian, Equifax, and TransUnion within 30 days of cleared payment.

If you agree, please provide a signed letter on company letterhead stating:
• The above terms, including the exact amount and that the tradeline will be deleted upon receipt of payment; and
• That no further collection will occur on any remaining balance.

This offer is valid until ${v.deadline || "the date specified"}. Upon receipt of your written acceptance, I will remit payment via the agreed method.

Sincerely,

${v.yourName}
`
  },
  {
    id:"goodwill",
    title:"Goodwill Late-Payment Adjustment",
    desc:"Request a one-time courtesy removal after you’ve re-established perfect history. Be brief and professional.",
    fields:[
      { key:"yourName", label:"Your Full Legal Name", type:"text" },
      { key:"address", label:"Your Address", type:"text" },
      { key:"cityStateZip", label:"City, State ZIP", type:"text" },
      { key:"date", label:"Date", type:"date", value:TODAY },
      { key:"creditor", label:"Creditor Name", type:"text" },
      { key:"credAddr", label:"Creditor Address", type:"text" },
      { key:"acctNum", label:"Account Number (last 4 ok)", type:"text" },
      { key:"lateMonth", label:"Late Month(s)/Year", type:"text" },
      { key:"reason", label:"Brief Hardship Explanation", type:"textarea" }
    ],
    render: v => `${v.date || TODAY}

${v.creditor}
${v.credAddr}

Re: Goodwill Adjustment Request — Account ${v.acctNum}

${v.yourName}
${v.address}
${v.cityStateZip}

To Whom It May Concern,

I’m writing to request a one-time goodwill adjustment for late payment(s) reported for ${v.lateMonth}.
I value our relationship and have maintained on-time payments since the incident.

Brief context: ${v.reason || "Temporary hardship occurred, which has since been resolved."}

As a courtesy, I kindly ask that you consider removing the late notation(s) from my credit reports. I appreciate your consideration and continued relationship.

Sincerely,

${v.yourName}
`
  },
  {
    id:"id-theft",
    title:"Identity Theft Cover Letter",
    desc:"Use with your FTC Identity Theft Report (and police report if available) to request closure/deletion of fraudulent accounts.",
    fields:[
      { key:"yourName", label:"Your Full Legal Name", type:"text" },
      { key:"address", label:"Your Address", type:"text" },
      { key:"cityStateZip", label:"City, State ZIP", type:"text" },
      { key:"date", label:"Date", type:"date", value:TODAY },
      { key:"recipient", label:"Recipient (Bureau or Furnisher)", type:"text" },
      { key:"recAddr", label:"Recipient Address", type:"text" },
      { key:"cases", label:"Fraudulent Items (list accounts, dates, amounts)", type:"textarea" },
      { key:"ftcCase", label:"FTC Case #", type:"text" },
      { key:"policeRpt", label:"Police Report # (if applicable)", type:"text" }
    ],
    render: v => `${v.date || TODAY}

${v.recipient}
${v.recAddr}

Re: Identity Theft — Request for Closure/Deletion

${v.yourName}
${v.address}
${v.cityStateZip}

To Whom It May Concern,

I am a victim of identity theft. The following items are fraudulent and were opened or reported without my authorization:
${v.cases || "- See attached detailed list with dates and amounts."}

Attached:
• FTC Identity Theft Report (Case # ${v.ftcCase || "N/A"})
• Police report (${v.policeRpt || "if applicable"})
• Government ID and proof of address

Please close/remove the fraudulent accounts, block any reporting of these items, and provide written confirmation. I request that you cease any collection related to these items.

Sincerely,

${v.yourName}
`
  },
  {
    id:"freeze",
    title:"Credit Freeze / Unfreeze Request",
    desc:"Request a freeze (or temporary lift) with each credit bureau and ChexSystems. Use their portals when possible; this is for mail backup.",
    fields:[
      { key:"yourName", label:"Your Full Legal Name", type:"text" },
      { key:"address", label:"Your Address", type:"text" },
      { key:"cityStateZip", label:"City, State ZIP", type:"text" },
      { key:"dob", label:"Date of Birth", type:"text" },
      { key:"ssn", label:"SSN (full preferred by bureaus)", type:"text" },
      { key:"date", label:"Date", type:"date", value:TODAY },
      { key:"action", label:"Action", type:"select", options:["Place Freeze","Temporarily Lift","Remove Freeze"] },
      { key:"liftDates", label:"If Lift: Start–End Dates & Creditor Name(s)", type:"textarea" },
      { key:"targetOrg", label:"Target (Experian / Equifax / TransUnion / ChexSystems)", type:"select",
        options:["Experian","Equifax","TransUnion","ChexSystems"] }
    ],
    render: v => {
      const addr = (v.targetOrg==="ChexSystems") ? ORGS.chex.addr : (ORGS.bureaus.find(b=>b.name===v.targetOrg)?.addr || "");
      const extra = (v.action==="Temporarily Lift") ? `

Lift Window:
${v.liftDates || "From: ____ To: ____  — Permitted creditor(s): ____"}` : "";
      return `${v.date || TODAY}

${v.targetOrg}
${addr}

Re: ${v.action} — Security Freeze Request

${v.yourName}
${v.address}
${v.cityStateZip}
DOB: ${v.dob} — SSN: ${v.ssn}

To Whom It May Concern,

Please ${v.action.toLowerCase()} on my credit file with your agency. I have included a copy of my government ID and proof of address.${extra}

Kindly confirm in writing when the request has been completed and provide any applicable PINs or reference numbers.

Sincerely,

${v.yourName}
`;
    }
  }
];

/* =========================
   STATE / STORAGE
   ========================= */
const STORE_PREFIX = "credittips_printables_";
function loadState(id){
  try { return JSON.parse(localStorage.getItem(STORE_PREFIX + id)) || {}; }
  catch { return {}; }
}
function saveState(id, data){
  localStorage.setItem(STORE_PREFIX + id, JSON.stringify(data));
}

/* =========================
   RENDERING
   ========================= */
const navBtns = document.getElementById("navBtns");
const formPanel = document.getElementById("formPanel");
const previewEl = document.getElementById("preview");
const titleEl = document.getElementById("tplTitle");
const descEl = document.getElementById("tplDesc");
const copyBtn = document.getElementById("copyBtn");
const downloadBtn = document.getElementById("downloadBtn");
const printBtn = document.getElementById("printBtn");
const resetBtn = document.getElementById("resetBtn");

let current = TEMPLATES[0].id;

function renderNav(){
  navBtns.innerHTML = "";
  TEMPLATES.forEach(t=>{
    const b = document.createElement("button");
    b.type = "button";
    b.textContent = t.title;
    b.className = "nav-btn";
    if (t.id === current) b.classList.add("active");
    const badge = document.createElement("span");
    badge.className = "badge";
    badge.textContent = "Gen";
    b.appendChild(badge);
    b.addEventListener("click", ()=>{ current = t.id; renderTemplate(); renderNav(); });
    navBtns.appendChild(b);
  });
}
function inputEl(field, value){
  const wrap = document.createElement("div");
  if (field.type !== "checkbox") {
    const lab = document.createElement("label");
    lab.textContent = field.label;
    wrap.appendChild(lab);
  }
  if (field.type === "text" || field.type === "date"){
    const i = document.createElement("input");
    i.type = field.type;
    i.value = (value ?? field.value ?? "");
    i.addEventListener("input", sync);
    i.dataset.key = field.key;
    wrap.appendChild(i);
  } else if (field.type === "textarea"){
    const ta = document.createElement("textarea");
    ta.value = (value ?? "");
    ta.addEventListener("input", sync);
    ta.dataset.key = field.key;
    wrap.appendChild(ta);
  } else if (field.type === "select"){
    const sel = document.createElement("select");
    field.options.forEach(opt=>{
      const o = document.createElement("option");
      o.value = opt; o.textContent = opt;
      sel.appendChild(o);
    });
    sel.value = (value ?? field.options[0] ?? "");
    sel.addEventListener("change", sync);
    sel.dataset.key = field.key;
    wrap.appendChild(sel);
  }
  return wrap;
}
function getValues(){
  const vals = {};
  formPanel.querySelectorAll("input, textarea, select").forEach(el=>{
    vals[el.dataset.key] = el.value;
  });
  return vals;
}
function sync(){
  const tpl = TEMPLATES.find(t=>t.id===current);
  const v = getValues();
  saveState(current, v);
  previewEl.textContent = tpl.render(v);
}
function renderTemplate(){
  const tpl = TEMPLATES.find(t=>t.id===current);
  const saved = loadState(current);

  titleEl.textContent = tpl.title;
  descEl.textContent = tpl.desc;

  formPanel.innerHTML = "";
  // Personal block quick row
  const personal = document.createElement("div");
  personal.className = "row";
  ["yourName","address","cityStateZip"].forEach(k=>{
    const f = tpl.fields.find(x=>x.key===k);
    if (f){
      const el = inputEl(f, saved[k]);
      personal.appendChild(el);
    }
  });
  if (personal.childNodes.length) {
    const title = document.createElement("h3");
    title.style.margin = "0 0 6px";
    title.textContent = "Your Info";
    formPanel.appendChild(title);
    formPanel.appendChild(personal);
  }

  // Remaining fields
  const rest = document.createElement("div");
  rest.className = "panel";
  rest.style.background = "transparent";
  rest.style.border = "0";
  tpl.fields.forEach(f=>{
    if (["yourName","address","cityStateZip"].includes(f.key)) return;
    rest.appendChild(inputEl(f, saved[f.key]));
  });
  formPanel.appendChild(rest);

  // Preview
  previewEl.textContent = tpl.render({ ...tpl.fields.reduce((a,f)=> (a[f.key]=f.value||"",a),{}), ...saved });
}

/* =========================
   ACTIONS
   ========================= */
copyBtn.addEventListener("click", async ()=>{
  const txt = previewEl.textContent;
  try{
    await navigator.clipboard.writeText(txt);
    copyBtn.textContent = "Copied";
    setTimeout(()=>copyBtn.textContent="Copy",1200);
  }catch{
    alert("Copy failed. Select text and press Ctrl+C.");
  }
});

downloadBtn.addEventListener("click", ()=>{
  const tpl = TEMPLATES.find(t=>t.id===current);
  const txt = previewEl.textContent;
  const blob = new Blob([txt], {type:"text/plain;charset=utf-8"});
  const a = document.createElement("a");
  const fnameSafe = tpl.title.replace(/[^a-z0-9]+/gi,"-").replace(/^-|-$/g,"").toLowerCase();
  a.href = URL.createObjectURL(blob);
  a.download = `${fnameSafe}-${new Date().toISOString().slice(0,10)}.txt`;
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(a.href);
});

printBtn.addEventListener("click", ()=> window.print());

resetBtn.addEventListener("click", ()=>{
  if (!confirm("Reset all fields for this template?")) return;
  localStorage.removeItem(STORE_PREFIX + current);
  renderTemplate();
});

renderNav();
renderTemplate();
</script>
</body>
</html>
